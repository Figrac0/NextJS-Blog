---
title: "NextLevel Foodies ‚Äì –°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ —Ä–µ—Ü–µ–ø—Ç–æ–≤ —Å App Router"
excerpt: "–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –æ–±–º–µ–Ω–∞ —Ä–µ—Ü–µ–ø—Ç–∞–º–∏ –Ω–∞ Next.js 15 App Router —Å —Å–µ—Ä–≤–µ—Ä–Ω—ã–º —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º, –∑–∞–≥—Ä—É–∑–∫–æ–π —Ñ–∞–π–ª–æ–≤ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö SQLite."
date: "2026-01-25"
slug: "nextlevel-foodies"
image: "nextlevel-foodies-preview.png"
type: "project"
tech:
    [
        "Next.js 15",
        "React 19",
        "App Router",
        "Server Components",
        "Server Actions",
        "SQLite",
        "better-sqlite3",
        "CSS Modules",
        "Vercel",
    ]
isFeatured: true
isTrending: true
isNew: false
stats:
    stars: 28
    forks: 5
readingTime: "12 –º–∏–Ω"
difficulty: "–°—Ä–µ–¥–Ω–∏–π"
demoUrl: "https://r-next-onwards-foodies.vercel.app/"
---

# NextLevel Foodies ‚Äì –ü—Ä–æ–µ–∫—Ç –Ω–∞ Next.js 15 App Router

**[üöÄ –ñ–∏–≤–æ–µ –¥–µ–º–æ: –ö–ª–∏–∫–Ω–∏—Ç–µ, —á—Ç–æ–±—ã –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –ø–ª–∞—Ç—Ñ–æ—Ä–º—É](https://r-next-onwards-foodies.vercel.app/)**

---

## üì∏ –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ–µ–∫—Ç–∞

![–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ —Å–ª–∞–π–¥—à–æ—É –∏ –ø—Ä–∏–∑—ã–≤–æ–º –∫ –¥–µ–π—Å—Ç–≤–∏—é](1.png)

---

![–°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –±–ª—é–¥](2.png)

---

![–î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ä–µ—Ü–µ–ø—Ç–∞](3.png)

---

![–°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ —Å –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞–º–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã](4.png)

---

![–§–æ—Ä–º–∞ –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Ä–µ—Ü–µ–ø—Ç–∞ –≤ —Å–æ–æ–±—â–µ—Å—Ç–≤–µ](5.png)

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–µ —Å—Å—ã–ª–∫–∏

- **[üåê –ñ–∏–≤–æ–µ –¥–µ–º–æ](https://r-next-onwards-foodies.vercel.app/)** - –ò—Å—Å–ª–µ–¥—É–π—Ç–µ –ø–æ–ª–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- **[üíª –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π GitHub](https://github.com/Figrac0/R-Next-Proj)** - –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- üöÄ –û–±–∑–æ—Ä
- ‚ú® –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- üõ†Ô∏è –ü–æ–¥—Ä–æ–±–Ω—ã–π –æ–±–∑–æ—Ä —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —Å—Ç–µ–∫–∞
- üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ App Router
- üíª –ü–æ–¥—Ä–æ–±–Ω—ã–π —Ä–∞–∑–±–æ—Ä –∫–æ–¥–∞
- üîÑ –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ
- üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è
- üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

---

## üöÄ –û–±–∑–æ—Ä

**NextLevel Foodies** ‚Äì —ç—Ç–æ –ø—Ä–∞–∫—Ç–∏—á–Ω–∞—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –æ–±–º–µ–Ω–∞ —Ä–µ—Ü–µ–ø—Ç–∞–º–∏, –ø–æ–ª–Ω–æ—Å—Ç—å—é –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –Ω–∞ **App Router** –≤ Next.js 15. –ü—Ä–æ–µ–∫—Ç —Å–ª—É–∂–∏—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–π –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–µ–π —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ full-stack —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞ React, —Å—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä–Ω–æ–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã–º–∏, –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏, –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–∞–π–ª–æ–≤ –∏ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–º –ª–æ–∫–∞–ª—å–Ω–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º SQLite.

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω—ã–π CRUD-–ø–æ–¥–æ–±–Ω—ã–π –æ–ø—ã—Ç, –≥–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Ä–µ—Ü–µ–ø—Ç—ã —Å–æ–æ–±—â–µ—Å—Ç–≤–∞, –∏–∑—É—á–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è –∏ –¥–µ–ª–∏—Ç—å—Å—è —Å–≤–æ–∏–º–∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º–∏ –±–ª—é–¥–∞–º–∏ ‚Äì –≤—Å—ë –≤ —Ä–∞–º–∫–∞—Ö –±–µ—Å—à–æ–≤–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ñ–∞–π–ª–æ–≤–æ–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏.

---

## ‚ú® –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### üçΩÔ∏è **–û—Å–Ω–æ–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–µ—Ü–µ–ø—Ç–∞–º–∏**

- **–ü—Ä–æ—Å–º–æ—Ç—Ä –∏ –æ—Ç–∫—Ä—ã—Ç–∏–µ** ‚Äì –°–µ—Ç–∫–∞ –≤—Å–µ—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤, –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ—Å—Ç–≤–æ–º
- **–î–µ—Ç–∞–ª—å–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã —Ä–µ—Ü–µ–ø—Ç–æ–≤** ‚Äì –ü–æ–ª–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞–≤—Ç–æ—Ä–µ
- **–ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Å–≤–æ–∏–º —Ç–≤–æ—Ä–µ–Ω–∏–µ–º** ‚Äì –£–¥–æ–±–Ω–∞—è —Ñ–æ—Ä–º–∞ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–æ–≤—ã—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤ —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
- **–ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ** ‚Äì –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö SQLite (`meals.db`)

### ‚ö° **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã Next.js 15**

- **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ App Router** ‚Äì –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `/app` –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏, –º–∞–∫–µ—Ç–æ–≤ –∏ —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **Server Components –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é** ‚Äì –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –±–µ–∑ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ JavaScript
- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ** ‚Äì SEO-–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∏ –æ–ø–∏—Å–∞–Ω–∏—è —Å—Ç—Ä–∞–Ω–∏—Ü, –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ—Ü–µ–ø—Ç–∞
- **–°—Ç—Ä–∏–º–∏–Ω–≥ –∏ Suspense** ‚Äì –£–ª—É—á—à–µ–Ω–Ω–æ–µ –≤–æ—Å–ø—Ä–∏–Ω–∏–º–∞–µ–º–æ–µ –±—ã—Å—Ç—Ä–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ –∑–∞–≥—Ä—É–∑–∫–∏

### üîÑ **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏**

- **–ê–∫—Ç–∏–≤–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è** ‚Äì –ü–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç —Ç–µ–∫—É—â—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –ø–æ–º–æ—â—å—é `usePathname()`
- **–ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** ‚Äì –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä —Ñ–∞–π–ª–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –ø–µ—Ä–µ–¥ –∑–∞–≥—Ä—É–∑–∫–æ–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `useRef()` –∏ `useState()`
- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —Ñ–æ—Ä–º** ‚Äì –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `useActionState()` –∏ `useFormStatus()` –∏–∑ React 19 –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏–π –æ–∂–∏–¥–∞–Ω–∏—è –∏ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –∞–¥–∞–ø—Ç–∏–≤–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** ‚Äì –ü–æ—Å—Ç—Ä–æ–µ–Ω–æ –Ω–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ `Image` –æ—Ç Next.js –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### üóÑÔ∏è **–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö**

- **Server Actions (`"use server"`)** ‚Äì –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º, –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤ –∏ –∑–∞–ø–∏—Å–∏ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –±–µ–∑ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö API-–º–∞—Ä—à—Ä—É—Ç–æ–≤
- **–û–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π** ‚Äì –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `/public/images`
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö** ‚Äì –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ SQLite —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `better-sqlite3` –¥–ª—è –ø—Ä–æ—Å—Ç–æ–≥–æ –∏ –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –¥–∞–Ω–Ω—ã–º
- **–†–µ–≤–∞–ª–∏–¥–∞—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤** ‚Äì –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–∞ —Å–ø–∏—Å–∫–æ–≤ –±–ª—é–¥ –ø–æ—Å–ª–µ –Ω–æ–≤—ã—Ö –ø—É–±–ª–∏–∫–∞—Ü–∏–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `revalidatePath()`

---

## üõ†Ô∏è –ü–æ–¥—Ä–æ–±–Ω—ã–π –æ–±–∑–æ—Ä —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–≥–æ —Å—Ç–µ–∫–∞

### **–û—Å–Ω–æ–≤–Ω–æ–π —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –∏ —Å—Ä–µ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**

- **Next.js 15 —Å App Router** ‚Äì –û—Å–Ω–æ–≤–∞ –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏, —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∏ —Å–µ—Ä–≤–µ—Ä–Ω–æ–π –ª–æ–≥–∏–∫–∏
- **React 19** ‚Äì –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Ö—É–∫–∏, –≤–∫–ª—é—á–∞—è `useActionState` –∏ `useFormStatus`
- **–§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ Node.js (`fs`)** ‚Äì –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø–∏—Å—å –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –Ω–∞ –¥–∏—Å–∫

### **–£—Ä–æ–≤–µ–Ω—å –¥–∞–Ω–Ω—ã—Ö**

- **SQLite —á–µ—Ä–µ–∑ `better-sqlite3`** ‚Äì –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ—Ü–µ–ø—Ç–æ–≤
- **Server Components** ‚Äì –ü—Ä—è–º—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –∏—Å–∫–ª—é—á–∞—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –≤ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ö –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö

### **–£—Ç–∏–ª–∏—Ç—ã –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**

- **`slugify`** ‚Äì –°–æ–∑–¥–∞–µ—Ç URL-–¥—Ä—É–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Å–ª–∞–≥–∏ –∏–∑ –Ω–∞–∑–≤–∞–Ω–∏–π —Ä–µ—Ü–µ–ø—Ç–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–õ—É—á—à–∏–π –±—É—Ä–≥–µ—Ä" ‚Üí `luchshiy-burger`)
- **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ `xss`** ‚Äì –°–∞–Ω–∏—Ç–∏–∑–∏—Ä—É–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π HTML-–∫–æ–Ω—Ç–µ–Ω—Ç –≤ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è—Ö —Ä–µ—Ü–µ–ø—Ç–æ–≤ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è XSS-–∞—Ç–∞–∫

### **–°—Ç–∏–ª–∏–∑–∞—Ü–∏—è –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ**

- **CSS Modules** ‚Äì –ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏—è –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏
- **Vercel** ‚Äì –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –±–µ—Å–ø—Ä–æ–±–ª–µ–º–Ω–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –∏ —Ö–æ—Å—Ç–∏–Ω–≥–∞

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ App Router

–ü—Ä–æ–µ–∫—Ç —è–≤–ª—è–µ—Ç—Å—è –æ–±—Ä–∞–∑—Ü–æ–º —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Å App Router.

### **–ö–ª—é—á–µ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤**

```text
/app
‚îú‚îÄ‚îÄ page.js                 # –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ (Server Component)
‚îú‚îÄ‚îÄ meals/
‚îÇ   ‚îú‚îÄ‚îÄ page.js            # –°–ø–∏—Å–æ–∫ –±–ª—é–¥ (Server Component)
‚îÇ   ‚îú‚îÄ‚îÄ [mealSlug]/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ page.js        # –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–µ—Ç–∞–ª–µ–π –±–ª—é–¥–∞ (Server Component)
‚îÇ   ‚îî‚îÄ‚îÄ share/
‚îÇ       ‚îî‚îÄ‚îÄ page.js        # –§–æ—Ä–º–∞ –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –±–ª—é–¥–∞ (Client Component)
‚îú‚îÄ‚îÄ community/page.js      # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ (Server Component)
‚îî‚îÄ‚îÄ layout.js              # –ö–æ—Ä–Ω–µ–≤–æ–π –º–∞–∫–µ—Ç —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º
```

---

## –°—Ç—Ä–∞—Ç–µ–≥–∏—è Server vs. Client Components

- **Server Components (`/meals`, `/[mealSlug]`)**: –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç –∑–∞–≥—Ä—É–∑–∫—É –¥–∞–Ω–Ω—ã—Ö, SEO-–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∏ —Ä–µ–Ω–¥–µ—Ä—è—Ç —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π HTML. –û–Ω–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É—é—Ç –∏ –∑–∞–ø—É—Å–∫–∞—é—Ç –¥—Ä–∞–π–≤–µ—Ä –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö `better-sqlite3` –Ω–∞–ø—Ä—è–º—É—é.
- **Client Components (`/meals/share`)**: –ù–µ–æ–±—Ö–æ–¥–∏–º—ã –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —Ñ–æ—Ä–º, –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–æ–≤ –∏ stateful-—Ö—É–∫–æ–≤, —Ç–∞–∫–∏—Ö –∫–∞–∫ `useState` –∏ `useActionState`.

---

## Server Actions: –ë—ç–∫–µ–Ω–¥ –≤ –≤–∞—à–µ–º —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ

Server Action `shareMeal` (–≤ `lib/actions.js`) –æ–ª–∏—Ü–µ—Ç–≤–æ—Ä—è–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π full-stack –ø–æ–¥—Ö–æ–¥:

1. –ü–æ–ª—É—á–∞–µ—Ç `FormData` –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞.
2. –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç –≤—Å–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (—Ç–µ–∫—Å—Ç, email, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ).
3. –°–∞–Ω–∏—Ç–∏–∑–∏—Ä—É–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —Å –ø–æ–º–æ—â—å—é –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `xss`.
4. –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –µ–≥–æ –≤ `/public/images`.
5. –í—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å –æ –±–ª—é–¥–µ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö SQLite.
6. –†–µ–≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –∫—ç—à —Å—Ç—Ä–∞–Ω–∏—Ü—ã `/meals` –∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

–≠—Ç–æ –∑–∞–º–µ–Ω—è–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å –≤ —Ç—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã—Ö –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞—Ö API-–º–∞—Ä—à—Ä—É—Ç–æ–≤ (—Ç–∞–∫–∏—Ö –∫–∞–∫ `pages/api`).

---

## üíª –ü–æ–¥—Ä–æ–±–Ω—ã–π —Ä–∞–∑–±–æ—Ä –∫–æ–¥–∞

### **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ—Ü–µ–ø—Ç–∞ —Å SEO-–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏**

`app/meals/[mealSlug]/page.js` –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç Server Components, –¥–∏–Ω–∞–º–∏—á–µ—Å–∫—É—é –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é –∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é SEO-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é:

```jsx
import Image from "next/image";
import { notFound } from "next/navigation";
import { getMeal } from "@/lib/meals";

// Next.js –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑—ã–≤–∞–µ—Ç —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü—ã
export async function generateMetadata({ params }) {
    const meal = await getMeal(params.mealSlug);
    if (!meal) notFound();

    return {
        title: meal.title,
        description: meal.summary, // SEO-–æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
    };
}

export default async function MealDetailsPage({ params }) {
    const meal = await getMeal(params.mealSlug);
    if (!meal) notFound();

    // –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –ø–µ—Ä–µ–Ω–æ—Å—ã —Å—Ç—Ä–æ–∫ –≤ <br> –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è HTML
    const instructionsHtml = meal.instructions.replace(/\n/g, "<br />");

    return (
        <>
            <header className={classes.header}>
                <div className={classes.image}>
                    {/* –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ Next.js —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–æ–π */}
                    <Image src={meal.image} alt={meal.title} fill priority />
                </div>
                <div className={classes.headerText}>
                    <h1>{meal.title}</h1>
                    <p className={classes.creator}>
                        –æ—Ç{" "}
                        <a href={`mailto:${meal.creator_email}`}>
                            {meal.creator}
                        </a>
                    </p>
                    <p className={classes.summary}>{meal.summary}</p>
                </div>
            </header>
            <main>
                {/* –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Å–∞–Ω–∏—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö HTML-–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π */}
                <p
                    className={classes.instructions}
                    dangerouslySetInnerHTML={{ __html: instructionsHtml }}
                />
            </main>
        </>
    );
}
```

### **–ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**

- **`generateMetadata()`** ‚Äì –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∏ –æ–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è SEO
- **`notFound()`** ‚Äì –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ 404 –¥–ª—è –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö —Å–ª–∞–≥–æ–≤ –±–ª—é–¥
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç Image** ‚Äì –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è, –ª–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
- **–°–µ—Ä–≤–µ—Ä–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö** ‚Äì –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π –∑–∞–≥—Ä—É–∑–∫–∏

---

### **–°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ —Å–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏**

`app/community/page.js` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞—Ç—å —Å–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ –∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –≤–æ–≤–ª–µ–∫–∞—é—â–∏–µ —Ä–∞–∑–¥–µ–ª—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞:

```jsx
import Image from "next/image";
import mealIcon from "@/assets/icons/meal.png";
import communityIcon from "@/assets/icons/community.png";
import eventsIcon from "@/assets/icons/events.png";

export default function CommunityPage() {
    return (
        <>
            <header className={classes.header}>
                <h1>
                    –û–¥–Ω–∞ –æ–±—â–∞—è —Å—Ç—Ä–∞—Å—Ç—å:{" "}
                    <span className={classes.highlight}>–ï–¥–∞</span>
                </h1>
                <p>
                    –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ —Å–æ–æ–±—â–µ—Å—Ç–≤—É –∏ –¥–µ–ª–∏—Ç–µ—Å—å –ª—é–±–∏–º—ã–º–∏ —Ä–µ—Ü–µ–ø—Ç–∞–º–∏!
                </p>
            </header>
            <main className={classes.main}>
                <h2>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞</h2>
                <ul className={classes.perks}>
                    <li>
                        {/* –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π Next.js */}
                        <Image src={mealIcon} alt="–í–∫—É—Å–Ω–æ–µ –±–ª—é–¥–æ" />
                        <p>–î–µ–ª–∏—Ç–µ—Å—å –∏ –æ—Ç–∫—Ä—ã–≤–∞–π—Ç–µ —Ä–µ—Ü–µ–ø—Ç—ã</p>
                    </li>
                    <li>
                        <Image
                            src={communityIcon}
                            alt="–ì—Ä—É–ø–ø–∞ –ª—é–¥–µ–π, –≥–æ—Ç–æ–≤—è—â–∏—Ö"
                        />
                        <p>–ù–∞—Ö–æ–¥–∏—Ç–µ –Ω–æ–≤—ã—Ö –¥—Ä—É–∑–µ–π –∏ –µ–¥–∏–Ω–æ–º—ã—à–ª–µ–Ω–Ω–∏–∫–æ–≤</p>
                    </li>
                    <li>
                        <Image
                            src={eventsIcon}
                            alt="–ì—Ä—É–ø–ø–∞ –ª—é–¥–µ–π –Ω–∞ –∫—É–ª–∏–Ω–∞—Ä–Ω–æ–º –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–∏"
                        />
                        <p>–£—á–∞—Å—Ç–≤—É–π—Ç–µ –≤ —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω—ã—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è—Ö</p>
                    </li>
                </ul>
            </main>
        </>
    );
}
```

### **–ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –±–ª—é–¥–∞**

`components/meals/meal-item.js` –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ—Å—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:

```jsx
import Link from "next/link";
import Image from "next/image";

export default function MealItem({ title, slug, image, summary, creator }) {
    return (
        <article className={classes.meal}>
            <header>
                <div className={classes.image}>
                    {/* –°–≤–æ–π—Å—Ç–≤–æ fill –¥–µ–ª–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–∫—Ä—ã–≤–∞—é—â–∏–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä */}
                    <Image src={image} alt={title} fill />
                </div>
                <div className={classes.headerText}>
                    <h2>{title}</h2>
                    <p>–æ—Ç {creator}</p>
                </div>
            </header>
            <div className={classes.content}>
                <p className={classes.summary}>{summary}</p>
                <div className={classes.actions}>
                    {/* –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–µ—Ç–∞–ª–µ–π –±–ª—é–¥–∞ */}
                    <Link href={`/meals/${slug}`}>–ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–µ—Ç–∞–ª–∏</Link>
                </div>
            </div>
        </article>
    );
}
```

### **Server Action —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π**

`lib/action.js` –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç Server Actions, –≤–∞–ª–∏–¥–∞—Ü–∏—é —Ñ–æ—Ä–º –∏ —Ä–µ–≤–∞–ª–∏–¥–∞—Ü–∏—é –∫—ç—à–∞:

```jsx
"use server";
import { redirect } from "next/navigation";
import { saveMeal } from "./meals";
import { revalidatePath } from "next/cache";

function isInvalidText(text) {
    return !text || text.trim() === "";
}

export async function shareMeal(prevState, formData) {
    // –ò–∑–≤–ª–µ–∫–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã
    const meal = {
        title: formData.get("title"),
        summary: formData.get("summary"),
        instructions: formData.get("instructions"),
        image: formData.get("image"),
        creator: formData.get("name"),
        creator_email: formData.get("email"),
    };

    // –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
    if (
        isInvalidText(meal.title) ||
        isInvalidText(meal.summary) ||
        isInvalidText(meal.instructions) ||
        isInvalidText(meal.creator) ||
        isInvalidText(meal.creator_email) ||
        !meal.creator_email.includes("@") ||
        !meal.image ||
        meal.image.size === 0
    ) {
        return { message: "–ù–µ–≤–µ—Ä–Ω—ã–µ –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ!" }; // –ü–æ–Ω—è—Ç–Ω–∞—è –æ—à–∏–±–∫–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    }

    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (–≤–∫–ª—é—á–∞—è –æ–±—Ä–∞–±–æ—Ç–∫—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ XSS-—Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—é)
    await saveMeal(meal);

    // –û—á–∏—â–∞–µ–º –∫—ç—à, —á—Ç–æ–±—ã —Å—Ä–∞–∑—É –ø–æ–∫–∞–∑–∞—Ç—å –Ω–æ–≤–æ–µ –±–ª—é–¥–æ
    revalidatePath("/meals", "layout");

    // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –±–ª—é–¥
    redirect("/meals");
}
```

### **–£—Ä–æ–≤–µ–Ω—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é**

`lib/meals.js` –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö —Å –º–µ—Ä–∞–º–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:

```jsx
import sql from "better-sqlite3";
import slugify from "slugify";
import xss from "xss";

const db = sql("meals.db");

export async function saveMeal(meal) {
    // –°–æ–∑–¥–∞–µ–º URL-–±–µ–∑–æ–ø–∞—Å–Ω—ã–π —Å–ª–∞–≥
    meal.slug = slugify(meal.title, { lower: true });

    // –°–∞–Ω–∏—Ç–∏–∑–∏—Ä—É–µ–º HTML –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è XSS-–∞—Ç–∞–∫
    meal.instructions = xss(meal.instructions);

    // –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
    const extension = meal.image.name.split(".").pop();
    const fileName = `${meal.slug}.${extension}`;

    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É
    const stream = fs.createWriteStream(`public/images/${fileName}`);
    const bufferedImage = await meal.image.arrayBuffer();
    stream.write(Buffer.from(bufferedImage));

    // –û–±–Ω–æ–≤–ª—è–µ–º –æ–±—ä–µ–∫—Ç meal –ø—É—Ç–µ–º –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é
    meal.image = `/images/${fileName}`;

    // –í—Å—Ç–∞–≤–ª—è–µ–º –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö SQLite
    db.prepare(
        `
        INSERT INTO meals
        (title, summary, instructions, creator, creator_email, image, slug)
        VALUES (@title, @summary, @instructions, @creator, @creator_email, @image, @slug)
    `,
    ).run(meal);
}
```

### **–§—É–Ω–∫—Ü–∏–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –≤ —ç—Ç–æ–º –∫–æ–¥–µ:**

- **`xss()`** ‚Äì –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç XSS-–∞—Ç–∞–∫–∏ –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º –∫–æ–Ω—Ç–µ–Ω—Ç–µ
- **`slugify()`** ‚Äì –°–æ–∑–¥–∞–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ, –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–µ URL
- **–í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π —Ñ–∞–π–ª–æ–≤** ‚Äì –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É —Ñ–∞–π–ª–æ–≤
- **–ü–∞—Ä–∞–º–µ—Ç—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã** ‚Äì –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç SQL-–∏–Ω—ä–µ–∫—Ü–∏–∏

---

## üîÑ –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ

### **1. –ß—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±–ª—é–¥)**

**–ü—É—Ç—å**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ—Å–µ—â–∞–µ—Ç `/meals`

**–ü—Ä–æ—Ü–µ—Å—Å**: Server Component `app/meals/page.js` –≤—ã–∑—ã–≤–∞–µ—Ç `getMeals()` –∏–∑ `lib/meals.js`.

**–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ**: –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å `SELECT * FROM meals` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ. –ü–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è Server Components, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ–Ω–¥–µ—Ä—è—Ç HTML, –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º—ã–π –≤ –±—Ä–∞—É–∑–µ—Ä.

### **2. –ó–∞–ø–∏—Å—å –¥–∞–Ω–Ω—ã—Ö (–ü—É–±–ª–∏–∫–∞—Ü–∏—è –±–ª—é–¥–∞)**

**–ü—É—Ç—å**: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–æ—Ä–º—É –Ω–∞ `/meals/share`

**–ü—Ä–æ—Ü–µ—Å—Å**:

1.  –î–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ Server Action `shareMeal`.
2.  –§–∞–π–ª –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –≤ –±—É—Ñ–µ—Ä –∏ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É.
3.  –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç—Å—è –≤ —Å–ª–∞–≥, –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —Å–∞–Ω–∏—Ç–∏–∑–∏—Ä—É—é—Ç—Å—è.
4.  –ù–æ–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –≤—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü—É `meals`.
5.  `revalidatePath("/meals")` —Å–æ–æ–±—â–∞–µ—Ç Next.js –æ—á–∏—Å—Ç–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –±–ª—é–¥.
6.  –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å `redirect("/meals")` —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —Å–≤–æ—é –Ω–æ–≤—É—é –ø—É–±–ª–∏–∫–∞—Ü–∏—é.

### **–°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (`meals.db`)**

–¢–∞–±–ª–∏—Ü–∞ SQLite —Ö—Ä–∞–Ω–∏—Ç –≤—Å—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–µ—Ü–µ–ø—Ç–∞—Ö:

- `slug` (–ü–µ—Ä–≤–∏—á–Ω—ã–π –∫–ª—é—á, —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–∑ –Ω–∞–∑–≤–∞–Ω–∏—è)
- `title`, `summary`, `instructions`
- `creator`, `creator_email`
- `image` (–ø—É—Ç—å –∫ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–º—É —Ñ–∞–π–ª—É, –Ω–∞–ø—Ä–∏–º–µ—Ä, `/images/luchshiy-burger.jpg`)

---

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ª—É—á—à–∏—Ö –ø—Ä–∞–∫—Ç–∏–∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –ø–æ–¥—Ö–æ–¥—è—â–∏—Ö –¥–ª—è –ø—É–±–ª–∏—á–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

### **–í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö**

–î–µ–π—Å—Ç–≤–∏–µ `shareMeal` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:

- –ü—É—Å—Ç—ã–µ –∏–ª–∏ —Å–æ—Å—Ç–æ—è—â–∏–µ —Ç–æ–ª—å–∫–æ –∏–∑ –ø—Ä–æ–±–µ–ª–æ–≤ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –ø–æ–ª—è.
- –í–∞–ª–∏–¥–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç email (—Å–æ–¥–µ—Ä–∂–∏—Ç `"@"`).
- –ù–∞–ª–∏—á–∏–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è.

### **–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ XSS**

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ —Ä–µ—Ü–µ–ø—Ç–æ–≤ (–∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –±–∞–∑–æ–≤—ã–π HTML, —Ç–∞–∫–æ–π –∫–∞–∫ `<br />` –¥–ª—è –ø–µ—Ä–µ–Ω–æ—Å–æ–≤ —Å—Ç—Ä–æ–∫) –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫—É —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏–∏ `xss` **–ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö**. –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –Ω–µ–π—Ç—Ä–∞–ª–∏–∑–∞—Ü–∏—é –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã—Ö —Ç–µ–≥–æ–≤ —Å–∫—Ä–∏–ø—Ç–æ–≤.

### **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤**

- –ó–∞–≥—Ä—É–∑–∫–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–µ–π `public/images`.
- –ò–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ–∏–∑–≤–æ–¥—è—Ç—Å—è –æ—Ç —Å–∞–Ω–∏—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Å–ª–∞–≥–∞, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—è –∞—Ç–∞–∫–∏ –æ–±—Ö–æ–¥–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π.
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç `Image` –æ—Ç Next.js –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞.

---

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –ª–µ–≥–∫–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –Ω–∞ **Vercel**, —Å–æ–∑–¥–∞—Ç–µ–ª—è—Ö Next.js.

### **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Vercel**

1.  –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è GitHub –∑–∞–ø—É—Å–∫–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –¥–µ–ø–ª–æ–∏.
2.  –ü—Ä–æ—Ü–µ—Å—Å —Å–±–æ—Ä–∫–∏ —Ä–∞—Å–ø–æ–∑–Ω–∞–µ—Ç Next.js –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.
3.  –§–∞–π–ª –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö SQLite (`meals.db`) –≤–∫–ª—é—á–µ–Ω –≤ –¥–µ–ø–ª–æ–π.
4.  –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è `/public/images` –æ–±—Å–ª—É–∂–∏–≤–∞–µ—Ç—Å—è –∫–∞–∫ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ—Å—É—Ä—Å—ã.

### **–°–æ–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ –æ–∫—Ä—É–∂–µ–Ω–∏—é**

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–ª–æ–∫–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª SQLite**. –î–ª—è production-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, —Ç—Ä–µ–±—É—é—â–∏—Ö –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã—Ö –∑–∞–ø–∏—Å–µ–π, —ç—Ç–æ –±—ã–ª–æ –±—ã –∑–∞–º–µ–Ω–µ–Ω–æ –Ω–∞ –∫–ª–∏–µ–Ω—Ç-—Å–µ—Ä–≤–µ—Ä–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö, —Ç–∞–∫—É—é –∫–∞–∫ PostgreSQL (—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, —Ç–∞–∫–æ–π –∫–∞–∫ `pg`), –Ω–æ –ø–∞—Ç—Ç–µ—Ä–Ω `better-sqlite3` —á–∏—Å—Ç–æ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –º–æ–¥–µ–ª—å –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö Server Component.

---

**üöÄ –ì–æ—Ç–æ–≤—ã –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å?**

**[–ñ–∏–≤–æ–µ –¥–µ–º–æ](https://r-next-onwards-foodies.vercel.app/)** ‚Ä¢ **[–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π GitHub](https://github.com/Figrac0/R-Next-Proj)**
